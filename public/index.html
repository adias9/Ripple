<html>

<head>
  <script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>
  <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'></script>
  <script src="https://cdn.jsdelivr.net/sweetalert2/2.0.2/sweetalert2.min.js"></script>
  <script type="text/javascript" src="//platform.linkedin.com/in.js">
  api_key: 77 vcbnackdurj5
  onLoad: onLinkedInLoad
  authorize: true
  scope: r_basicprofile
  </script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/sweetalert2/2.0.2/sweetalert2.min.css">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <div class="example-chat container">
    <div id="main-chat">
      <div id="channel-column">
        <header id="channels-header">Streams<i id="add-channel-btn" class="fa fa-plus-circle"></i></header>
        <ul id='channels' class="ul-column"></ul>
      </div>
      <div id="message-column">
        <div id="message-header-div">
          <header id="messages-header">Loading...</header>
          <img src="img/linkedin-default.png" id="linkedin-login-btn" onmouseover="this.src='img/linkedin-hover.png';" onmouseout="this.src='img/linkedin-default.png';" onclick="this.src='img/linkedin-active.png'; liAuth();" width="146px" height="20px">
          <div id="userLogOut">Log Out</div>
        </div>
        <ul id='example-messages' class="ul-column"></ul>
      </div>
    </div>
    <footer>
      <input type='text' id='messageInput' placeholder='Type a message...'>
    </footer>
  </div>
  <script type="text/javascript">
    var inputUsername = undefined;

    function liAuth() {
      IN.User.authorize(function() {
        onLinkedInLoad();
      });
    }

    // Setup an event listener to make an API call once auth is complete
    function onLinkedInLoad() {
      IN.Event.on(IN, "auth", getProfileData);
    }

    // Use the API call wrapper to request the member's basic profile data
    function getProfileData() {
      IN.API.Profile("me").fields("firstName", "lastName").result(onSuccess).error(onError);
    }

    // Handle the successful return from the API call
    function onSuccess(data) {
      member = data.values[0];
      inputUsername = member.firstName + " " + member.lastName;
      linkedInButton.css('display', 'none');
      logOutButton.css('visibility', 'visible');
    }

    // Handle an error response from the API call
    function onError(error) {
      console.log(error);
    }
  </script>
  <script src="main.js"></script>
</body>

</html>
